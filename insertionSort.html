<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="c:\Users\Admin\Desktop\jquery-3.7.1.min.js"></script>
    <script>
        function activate_display_input()
        {  
        //activate button after change in select
        document.getElementById("sorting").disabled=false;
        stepCounter=0;
        
            var input=document.getElementById("input_select").value;
            if(input=="User_input")
        {   document.getElementById("input_display_box").value="";
            document.getElementById("input_display_box").disabled=false;
            document.getElementById("input_display_box").style.backgroundColor="white";
            
        }
        else if(input=="not_selected")
        {
            document.getElementById("input_display_box").value="";
            document.getElementById("swaping").innerHTML="<h2>Please Select an Input!</h2>";
       
        }
        else
        {
            let length=5;
            let randomArray=[];
            for(let i=0;i<length;i++)
         {
            randomArray.push(Math.floor(Math.random()*100));   
         }
            document.getElementById("input_display_box").disabled=true;
             document.getElementById("input_display_box").style.backgroundColor="gainsboro";
        
        if(input=="Best")
        {
         randomArray.sort();
         document.getElementById("input_display_box").value=randomArray;
        }
        if(input=="Worst")
        {
            randomArray.sort();
            randomArray.reverse();
            document.getElementById("input_display_box").value=randomArray;
        }
         if(input=="Average")
        {
            document.getElementById("input_display_box").value=randomArray;
        }
        }
        }
    

// Step counter
let stepCounter = 0;

function displayStepRow(arr) {
  const gridContainer = document.getElementById("swaping");

  const row = document.createElement("div");
  row.className = "row";
  row.style.gridTemplateColumns = `repeat(${arr.length + 1}, 1fr)`; // +1 for "Step N"

  // Add "Step N" cell
  const stepLabel = document.createElement("div");
  stepLabel.className = "step-label";
  stepLabel.textContent = `Step ${++stepCounter}`;
  row.appendChild(stepLabel);
  
  

  // Add each element as a "card"
  for (let i = 0; i < arr.length; i++) {
    const card = document.createElement("div");
    card.className = "card";
    card.textContent = arr[i];
    row.appendChild(card);
  }

  gridContainer.appendChild(row);


}


function insertionSort(arr) {

const output = document.getElementById('swaping');
output.scrollTop = 0;
    const gridContainer = document.getElementById("swaping");
  gridContainer.innerHTML = ""; // Clear previous content

  // Initial array state
  displayStepRow(arr);


  for (let i = 1; i < arr.length; i++) {
    let key = arr[i];
    let j = i - 1;

    while (j >= 0 && arr[j] > key) {
      arr[j + 1] = arr[j];
      j = j - 1;
    }

    arr[j + 1] = key;

    
    displayStepRow(arr);
    document.getElementById("sorting").disabled=true;
    
  }
}

       
        function get_input()
        {
            var str=document.getElementById("input_display_box").value;
            if(str.length!=0)
        {
            arr=str.split(",");
          //  document.getElementById("swaping").innerHTML=arr;
            insertionSort(arr);
        }
        else{
            
            document.getElementById("swaping").innerHTML="<h2>Please Select an Input!</h2>";
        }
        }

    

    </script>
    <style>
        body{
            background-color:black;
            background-image: linear-gradient(rgba(173, 168, 168, 0.3),rgba(158, 155, 155, 0.3)),url("card_bg.png");
            
        }

        #swaping {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 1px;
    overflow-y: auto;
  }

  .row {
    display: grid;
    gap: 10px;
    align-items: center;
  }

  .step-label {
    font-weight: bold;
    text-align: center;
    padding: 10px 5px;
    color: white;
    background-color: #333;
    border-radius: 5px;
  }

  .card {
    width: 70px;
    height: 90px;
    background-image: url('cards.png');
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 20px;
    color: black;
    border:3px solid black;
    margin-bottom: 2px;
  }

        img{
            opacity:0.5;
        }
        #input_box{
            margin:0 30px 30px 40px;
            display: flex;
            flex-direction: column;
            text-align: center;
            justify-content: center;
            background-color: oklab(95.294% -0.00303 0.01006);
           width:500px;
           height:250px;
           border-radius: 30px;
           box-shadow: 1px 5px 5px 5px rgb(84, 84, 84);
           border:2px solid black;
        }
        
        #input_container{
            
             border-right: 1px solid black;
             display: flex;
             flex-direction: column;
          justify-content: center;   
             
        }
        #outer{
            display: flex;
            flex-wrap: wrap;
            
        }
       
        select{
            align-self: center;
            text-align: center;
            margin-bottom: 20px;
            height: 40px;
            width:300px;
            border-radius: 20px;
            font-size: 20px;
        }

        input{
            align-self: center;
            text-align: center;
            margin-bottom: 20px;
            height: 30px;
            width:500px;
            border-radius: 20px;
            font-size: 20px;
        }

        p{  
            text-align: center;
            font-size: 50px;
            margin-block-end: 15px;
            margin-block-start: 20px;
        }
        
        #display_input{
            margin:0px 30px 40px 20px;
            display: flex;
            flex-direction: column;
            text-align: center;
            justify-content: center;
            background-color: #c1cf96;
           width:550px;
           border-radius: 20px;
           box-shadow: 5px 5px 5px 5px rgb(65, 64, 64);
background-color: oklab(95.294% -0.00303 0.01006);
           border:2px solid black;
          
        }

        #output{
           margin:0px 5px 70px 20px;
           display: flex;
           flex-direction: column;
           text-align: center;
           justify-content: center;
           background-color: #c1cf96;
           width:860px;
           border-radius: 30px;
           box-shadow: 5px 5px 5px 5px rgb(61, 61, 61);
background-color: oklab(95.294% -0.00303 0.01006);
           border:2px solid black;
           height:630px;
           
           
        }
        
        button{
            background-color:rgb(212, 246, 246);
        }
        button:hover{
            background-color: hsl(191, 66%, 78%);
            border:3px solid black;
            cursor:pointer;
        }

        
    </style>
</head>
<body>
    <b><p>Insertion Sort</p></b>
<div id="outer">
<div id="input_container">
<div id="input_box">
<h1 style="font-size: 30px;">Select the Type of Input you Want:</h1>
<select id="input_select" onchange="activate_display_input()">
    <option value="not_selected">Select desired input</option>
    <option value="Best">Best Case Input</option>
    <option value="Worst">Worst Case Input</option>
    <option value="Average">Average Case Input</option>
    <option value="User_input">User Input Array</option>
</select>
</div> 
<div id="display_input">
    <h1>Input for Sorting:</h1>
    <input type="text" id="input_display_box"  style="background-color: gainsboro;"  placeholder="Add the array in this way 12,45,63,34,21" disabled>
</div>
<button onclick="get_input()" id="sorting" style="align-self:center; margin-right:30px; border-radius:30px; box-shadow: 3px 3px 3px 3px grey; width:140px; height:50px; font-size: 27px;"><b>Sort</b></button>
</div>


<div id="output">
<h1 style="font-size: 40px; margin-block-start: 3px;">Output</h1> 
<div id="swaping">
<h2>Please Select an Input!</h2>
</div>
</div>
</div>  
</body>
</html>